<div class="wrapper">

    <div class="button-row">
        <button class="button" (click)="reset()">Reset</button>
    </div>
    
    <p class="title large">Unfinished Goods</p>
    <p class="info large">{{unfinishedGoods}}</p>
    
    <p class="title large">Finished Goods</p>
    <p class="info large">{{finishedGoods}}</p>
    
    <br>
    
    <p class="title">Inventory Remaining</p>
    <p class="info">{{quota - goodsTowardsQuota > 0 ? quota - goodsTowardsQuota : 0}}</p>
    
    <p class="title">Quota</p>
    <p class="info"> {{goodsTowardsQuota}} / {{quota}}</p>
    
    <!-- <progress [max]="quota" [value]="goodsTowardsQuota"></progress> -->

    <ngx-charts-pie-chart
        [view]="[200, 200]"
        [scheme]="colorScheme"
        [results]="pieData"
    >
    </ngx-charts-pie-chart>
    
    <br>

    <p class="title">Last Takt Time</p>
    <p class="info" *ngIf="taktTimes[0].series.length > 1">{{taktTimes[0].series[taktTimes[0].series.length - 1].value}}s ({{taktTimes[0].series.length}} recorded.)</p>

    <p class="title">Avg Takt Time</p>
    <p class="info">{{(averageTaktTime() / 1000).toFixed(2)}}s</p>

    <ngx-charts-line-chart class="line-chart"
        [view]="[600, 300]"
        [scheme]="colorScheme"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxis]="true"
        [yAxis]="true"
        [xAxisLabel]="'Time'"
        [yAxisLabel]="'Time (Seconds)'"
        [results]="taktTimes"
    >
    </ngx-charts-line-chart>

    
    <p class="small-title subdued">Camera MAC: </p>
    <p class="small-info subdued">34:56:FE:A4:01:B0</p>
    <p class="small-title subdued">Camera RTSP: </p>
    <p class="small-info subdued">rtsp://192.168.5.140:9000/live</p>
    <p class="small-title subdued">AoA Messages: </p>
    <div class="small-info subdued">
        <p *ngFor="let pin of tagPositionMap | keyvalue">{{pin.key}} : {{pin.value.x.toFixed(2)}}, {{pin.value.y}},</p>
    </div>

</div>
